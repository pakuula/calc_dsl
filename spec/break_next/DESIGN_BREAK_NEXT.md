# üéØ –î–∏–∑–∞–π–Ω: –ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ break –∏ next

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2026-02-14  
**–°—Ç–∞—Ç—É—Å:** –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  

**–¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è:** @coder (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)  

---

## üìã –û–±–∑–æ—Ä

–î–æ–±–∞–≤–ª—è–µ–º –¥–≤–µ –Ω–æ–≤—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ü–∏–∫–ª–æ–≤:
- **break** ‚Äî –≤—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
- **next** ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏

–≠—Ç–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–æ–≤ `for` –∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –±–æ–ª–µ–µ –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º.

---

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ—Å–Ω–æ–≤—ã

### 1. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ü–∏–∫–ª–æ–≤ –ø–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ

**–ü—Ä–∞–≤–∏–ª–æ:** –ö–∞–∂–¥—ã–π —Ü–∏–∫–ª –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ü–∏–∫–ª–∞.

```python
# –ü—Ä–∞–≤–∏–ª—å–Ω–æ:
for i in 1 .. 10 (...)
for j in 1 .. 20 (...)

# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (–≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π):
for i in 1 .. 10 (
    for i in 1 .. 5 (...)  # ‚ùå –û–®–ò–ë–ö–ê: –∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π i
)
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** 
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å—Ç–µ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤ —Å–æ —Å–≤–æ–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
- –ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Ü–∏–∫–ª –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ —É–∂–µ –∞–∫—Ç–∏–≤–Ω–∞
- –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Ü–∏–∫–ª–∞ —É–¥–∞–ª—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏–∑ —Å—Ç–µ–∫–∞

**–ò—Å–∫–ª—é—á–µ–Ω–∏—è:**
- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Ü–∏–∫–ª—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π OK (–æ–¥–∏–Ω –∑–∞–≤–µ—Ä—à–∏–ª—Å—è, –¥—Ä—É–≥–æ–π –Ω–∞—á–∞–ª—Å—è)
- –†–∞–∑–Ω—ã–µ —Ü–∏–∫–ª—ã –≤ —Ä–∞–∑–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö –≤–∏–¥–∏–º–æ—Å—Ç–∏ OK

### 2. –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–º

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ break/next –Ω—É–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏–ª–∏ —Ñ–ª–∞–≥–æ–≤:

**–í–∞—Ä–∏–∞–Ω—Ç A: –ò—Å–∫–ª—é—á–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```python
class BreakException(Exception):
    """–°–∏–≥–Ω–∞–ª –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ü–∏–∫–ª–∞"""
    def __init__(self, loop_var: str, result: Any):
        self.loop_var = loop_var  # –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Ü–∏–∫–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –≤—ã–π—Ç–∏
        self.result = result      # –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞

class NextException(Exception):
    """–°–∏–≥–Ω–∞–ª –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é"""
    def __init__(self, loop_var: str):
        self.loop_var = loop_var  # –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Ü–∏–∫–ª–∞
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ B: Control flow –æ–±—ä–µ–∫—Ç**
```python
class ControlFlow:
    NORMAL = 'normal'
    BREAK = 'break'
    NEXT = 'next'
    
    def __init__(self, type: str, loop_var: str = None, result: Any = None):
        self.type = type
        self.loop_var = loop_var
        self.result = result
```

**–í—ã–±–æ—Ä:** –ò—Å–ø–æ–ª—å–∑—É–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏—è (–ø—Ä–æ—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ).

---

## üìù –°–∏–Ω—Ç–∞–∫—Å–∏—Å

### Break –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

```
break_stmt: "break" ["from" NAME] ["when" expr] "with" expr
```

**–ü—Ä–∏–º–µ—Ä—ã:**

```clc
# Break —Å —É—Å–ª–æ–≤–∏–µ–º
for i in 1 .. 100 (
    break when i == 50 with i * 2
)

# Break –±–µ–∑ —É—Å–ª–æ–≤–∏—è (–±–µ–∑—É—Å–ª–æ–≤–Ω—ã–π –≤—ã—Ö–æ–¥ –Ω–∞ –ø–µ—Ä–≤–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏)
for i in 1 .. 10 (
    break with 0
)

# Break –≤–ª–æ–∂–µ–Ω–Ω—ã–π –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ —Ü–∏–∫–ª–∞
for i in 1 .. 100 (
    for j in 1 .. 100 (
        break from i when i * j > 1000 with i  # –≤—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞ –ø–æ i, –Ω–µ –ø–æ j
    )
)

# Break –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ü–∏–∫–ª–∞ (–±–µ–∑ from)
for i in 1 .. 100 (
    for j in 1 .. 100 (
        break when i * j > 1000 with -1  # –≤—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞ –ø–æ j (–±–ª–∏–∂–∞–π—à–µ–≥–æ)
    )
)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `from NAME` ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Ü–∏–∫–ª–∞ –¥–ª—è –≤—ã—Ö–æ–¥–∞. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –≤—ã—Ö–æ–¥ –∏–∑ –±–ª–∏–∂–∞–π—à–µ–≥–æ (—Ç–µ–∫—É—â–µ–≥–æ) —Ü–∏–∫–ª–∞
- `when expr` ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —É—Å–ª–æ–≤–∏–µ –≤—ã—Ö–æ–¥–∞. –ï—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –ª–æ–∂–Ω–æ, break –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
- `with expr` ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –∏–∑ —Ü–∏–∫–ª–∞

**–°–µ–º–∞–Ω—Ç–∏–∫–∞:**
1. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ (`when`)
2. –ï—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –ª–æ–∂–Ω–æ –∏–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ ‚Üí –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è break
3. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –≤—ã—Ä–∞–∂–µ–Ω–∏–µ (`with`)
4. –†–µ–∑—É–ª—å—Ç–∞—Ç —Ü–∏–∫–ª–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ä–∞–≤–Ω—ã–º –≤—ã—á–∏—Å–ª–µ–Ω–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é
5. –¶–∏–∫–ª –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è

### Next –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

```
next_stmt: "next" [NAME] ["when" expr]
```

**–ü—Ä–∏–º–µ—Ä—ã:**

```clc
# –ü—Ä–æ—Å—Ç–æ–π next (–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –æ—Å—Ç–∞—Ç–æ–∫ –∏—Ç–µ—Ä–∞—Ü–∏–∏)
for i in 1 .. 10 (
    if i mod 2 == 0 then
        next
    sum += i
)

# Next —Å —É—Å–ª–æ–≤–∏–µ–º
for i in 1 .. 10 (
    next when i mod 2 == 0  # –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —á–µ—Ç–Ω—ã–µ
    sum += i
)

# Next —Å —è–≤–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
for i in 1 .. 100 (
    for j in 1 .. 100 (
        if i > 50 then
            next i  # –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ i, –∑–∞–≤–µ—Ä—à–∏–≤ —Ü–∏–∫–ª –ø–æ j
    )
)

# Next –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ü–∏–∫–ª–∞ (–±–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π)
for i in 1 .. 100 (
    for j in 1 .. 100 (
        if j > 50 then
            next  # –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ j
    )
)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `NAME` ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Ü–∏–∫–ª–∞. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ü–∏–∫–ª–∞
- `when expr` ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —É—Å–ª–æ–≤–∏–µ –¥–ª—è next. –ï—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –ª–æ–∂–Ω–æ, next –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è

**–°–µ–º–∞–Ω—Ç–∏–∫–∞:**
1. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ (`when`)
2. –ï—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –ª–æ–∂–Ω–æ –∏–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ ‚Üí –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è next
3. –í—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ —Ç–µ–ª–µ —Ü–∏–∫–ª–∞ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è
4. –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
5. –ï—Å–ª–∏ —ç—Ç–æ –±—ã–ª–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –∏—Ç–µ—Ä–∞—Ü–∏—è ‚Üí —Ü–∏–∫–ª –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å —Ç–µ–∫—É—â–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º

---

## üéØ –°–µ–º–∞–Ω—Ç–∏–∫–∞ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### Break - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞

**–ö–æ–≥–¥–∞ break –Ω–µ –∏–º–µ–µ—Ç —É—Å–ª–æ–≤–∏—è:**
```clc
for i in 1 .. 10 (
    break with 999
)
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 999
# –¶–∏–∫–ª –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é
```

**–ö–æ–≥–¥–∞ break —Å —É—Å–ª–æ–≤–∏–µ–º:**
```clc
sum = 0
for i in 1 .. 10 (
    break when i > 5 with i * 10
    sum += i
)
# i=1: —É—Å–ª–æ–≤–∏–µ false ‚Üí –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º ‚Üí sum=1
# i=2: —É—Å–ª–æ–≤–∏–µ false ‚Üí –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º ‚Üí sum=3
# i=3: —É—Å–ª–æ–≤–∏–µ false ‚Üí –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º ‚Üí sum=6
# i=4: —É—Å–ª–æ–≤–∏–µ false ‚Üí –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º ‚Üí sum=10
# i=5: —É—Å–ª–æ–≤–∏–µ false ‚Üí –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º ‚Üí sum=15
# i=6: —É—Å–ª–æ–≤–∏–µ true ‚Üí break —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º 60
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 60
```

**–í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ü–∏–∫–ª–∞:**
- –ï—Å–ª–∏ break –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ü–∏–∫–ª–∞ = –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ `with`
- –ï—Å–ª–∏ break –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è –Ω–∏ —Ä–∞–∑—É ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ü–∏–∫–ª–∞ = —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ —Ç–µ–ª–µ (—Ç–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ)
- –ï—Å–ª–∏ —Ü–∏–∫–ª–æ–º –º–∞–Ω–∏–ø—É–ª–∏—Ä—É–µ—Ç next ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ü–∏–∫–ª–∞ = —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ "—Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏—Ç–µ—Ä–∞—Ü–∏–∏":**
- –†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Ç–µ—Ä–∞—Ü–∏–∏ = –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –≤—ã—á–∏—Å–ª–µ–Ω–Ω–æ–µ –≤ —Ç–µ–ª–µ —Ü–∏–∫–ª–∞–ø–µ—Ä–µ–¥ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ–º (`next`)
- –ï—Å–ª–∏ –≤ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è `next`, —Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ = –∑–Ω–∞—á–µ–Ω–∏–µ, –≤—ã—á–∏—Å–ª–µ–Ω–Ω–æ–µ –î–û `next`
- –†–µ–∑—É–ª—å—Ç–∞—Ç —Ü–∏–∫–ª–∞ = —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ (–∫–æ—Ç–æ—Ä—É—é —Ü–∏–∫–ª –ø—Ä–æ—à–µ–ª, –≤–∫–ª—é—á–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—é —Å `next`)

### Next - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞

**–ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø:** –†–µ–∑—É–ª—å—Ç–∞—Ç —Ü–∏–∫–ª–∞ –ø–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ä–∞–≤–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ —Ü–∏–∫–ª–∞.

**–ü—É—Å—Ç–æ–π —Ü–∏–∫–ª (next –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏):**
```clc
for i in 1 .. 3 (
    next
)
# i=1: next ‚Üí –ø—Ä–æ–ø—É—Å–∫ –æ—Å—Ç–∞—Ç–∫–∞, –∏—Ç–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞
# i=2: next ‚Üí –ø—Ä–æ–ø—É—Å–∫ –æ—Å—Ç–∞—Ç–∫–∞, –∏—Ç–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞
# i=3: next ‚Üí –ø—Ä–æ–ø—É—Å–∫ –æ—Å—Ç–∞—Ç–∫–∞, –∏—Ç–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ [–ü–û–°–õ–ï–î–ù–Ø–Ø –ò–¢–ï–†–ê–¶–ò–Ø]
# –†–µ–∑—É–ª—å—Ç–∞—Ç —Ü–∏–∫–ª–∞: —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ (i=3)
```

**–ö–æ–≥–¥–∞ –Ω–µ—Ç –∏—Ç–µ—Ä–∞—Ü–∏–π:**
```clc
for i in 10 .. 1 (  # –Ω–µ—Ç –∏—Ç–µ—Ä–∞—Ü–∏–π (10 > 1)
    next
)
# –†–µ–∑—É–ª—å—Ç–∞—Ç: null (–ø—É—Å—Ç–æ–π —Ü–∏–∫–ª –±–µ–∑ –∏—Ç–µ—Ä–∞—Ü–∏–π)
```

**Next —Å —É—Å–ª–æ–≤–∏–µ–º:**
```clc
for i in 1 .. 5 (
    next when i mod 2 == 0  # –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —á–µ—Ç–Ω—ã–µ
    sum += i
)
# i=1: i mod 2 != 0 ‚Üí –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º ‚Üí sum=1 [–ò–¢–ï–†–ê–¶–ò–Ø 1 –ó–ê–í–ï–†–®–ï–ù–ê]
# i=2: i mod 2 == 0 ‚Üí next ‚Üí –ø—Ä–æ–ø—É—Å–∫ –æ—Å—Ç–∞—Ç–∫–∞ [–ò–¢–ï–†–ê–¶–ò–Ø 2 –ó–ê–í–ï–†–®–ï–ù–ê]
# i=3: i mod 2 != 0 ‚Üí –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º ‚Üí sum=4 [–ò–¢–ï–†–ê–¶–ò–Ø 3 –ó–ê–í–ï–†–®–ï–ù–ê]
# i=4: i mod 2 == 0 ‚Üí next ‚Üí –ø—Ä–æ–ø—É—Å–∫ –æ—Å—Ç–∞—Ç–∫–∞ [–ò–¢–ï–†–ê–¶–ò–Ø 4 –ó–ê–í–ï–†–®–ï–ù–ê]
# i=5: i mod 2 != 0 ‚Üí –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º ‚Üí sum=9 [–ò–¢–ï–†–ê–¶–ò–Ø 5 –ó–ê–í–ï–†–®–ï–ù–ê, –ü–û–°–õ–ï–î–ù–Ø–Ø]
# –†–µ–∑—É–ª—å—Ç–∞—Ç —Ü–∏–∫–ª–∞: —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ = 9
```

**Next –≤–ª–æ–∂–µ–Ω–Ω—ã–π:**
```clc
result = 0
for i in 1 .. 3 (
    for j in 1 .. 3 (
        if j == 2 then
            next i  # –≤—ã–π—Ç–∏ –∏–∑ j –∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ i
        result += i * j
    )
)
# i=1, j=1: result = 1 [–ò–¢–ï–†–ê–¶–ò–Ø j=1 –ó–ê–í–ï–†–®–ï–ù–ê]
# i=1, j=2: next i ‚Üí –ø—Ä–æ–ø—É—Å–∫ –æ—Å—Ç–∞—Ç–∫–∞ j, –ø–µ—Ä–µ—Ö–æ–¥ –∫ i=2
#           [–ü–û–°–õ–ï–î–ù–ï–ï –í–´–ü–û–õ–ù–ï–ù–ù–û–ï –í–´–†–ê–ñ–ï–ù–ò–ï –≤ i=1 ‚Üí result=1, –ò–¢–ï–†–ê–¶–ò–Ø i=1 –ó–ê–í–ï–†–®–ï–ù–ê]
# i=2, j=1: result = 3 [–ò–¢–ï–†–ê–¶–ò–Ø j=1 –ó–ê–í–ï–†–®–ï–ù–ê]
# i=2, j=2: next i ‚Üí –ø—Ä–æ–ø—É—Å–∫ –æ—Å—Ç–∞—Ç–∫–∞ j, –ø–µ—Ä–µ—Ö–æ–¥ –∫ i=3
#           [–ü–û–°–õ–ï–î–ù–ï–ï –í–´–ü–û–õ–ù–ï–ù–ù–û–ï –í–´–†–ê–ñ–ï–ù–ò–ï –≤ i=2 ‚Üí result=3, –ò–¢–ï–†–ê–¶–ò–Ø i=2 –ó–ê–í–ï–†–®–ï–ù–ê]
# i=3, j=1: result = 6 [–ò–¢–ï–†–ê–¶–ò–Ø j=1 –ó–ê–í–ï–†–®–ï–ù–ê]
# i=3, j=2: next i ‚Üí –ø—Ä–æ–ø—É—Å–∫ –æ—Å—Ç–∞—Ç–∫–∞ j, –∫–æ–Ω–µ—Ü —Ü–∏–∫–ª–∞
#           [–ü–û–°–õ–ï–î–ù–ï–ï –í–´–ü–û–õ–ù–ï–ù–ù–û–ï –í–´–†–ê–ñ–ï–ù–ò–ï –≤ i=3 ‚Üí result=6, –ò–¢–ï–†–ê–¶–ò–Ø i=3 –ó–ê–í–ï–†–®–ï–ù–ê, –ü–û–°–õ–ï–î–ù–Ø–Ø]
# –†–µ–∑—É–ª—å—Ç–∞—Ç —Ü–∏–∫–ª–∞ –ø–æ i: —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ = 6
```

---

## üö´ –û—à–∏–±–∫–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### –û—à–∏–±–∫–∞ 1: Break –≤–Ω–µ —Ü–∏–∫–ª–∞

```clc
break with 5  # ‚ùå ERROR: break –≤–Ω–µ —Ü–∏–∫–ª–∞
```

**–°–æ–æ–±—â–µ–Ω–∏–µ –æ—à–∏–±–∫–∏:** `BreakOutsideLoopError: "break" –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω–µ —Ü–∏–∫–ª–∞`

### –û—à–∏–±–∫–∞ 2: Break –∏–∑ —Ü–∏–∫–ª–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

```clc
for i in 1 .. 10 (
    for i in 1 .. 10 (  # ‚ùå ERROR: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è i —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
        break from i with 0
    )
)
```

**–°–æ–æ–±—â–µ–Ω–∏–µ –æ—à–∏–±–∫–∏:** `DuplicateLoopVariableError: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è 'i' —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤–ª–æ–∂–µ–Ω–Ω–æ–º —Ü–∏–∫–ª–µ`

### –û—à–∏–±–∫–∞ 3: Break –∏–∑ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ü–∏–∫–ª–∞

```clc
for i in 1 .. 10 (
    break from j with 0  # ‚ùå ERROR: —Ü–∏–∫–ª –ø–æ j –Ω–µ –Ω–∞–π–¥–µ–Ω
)
```

**–°–æ–æ–±—â–µ–Ω–∏–µ –æ—à–∏–±–∫–∏:** `LoopNotFoundError: —Ü–∏–∫–ª –ø–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π 'j' –Ω–µ –Ω–∞–π–¥–µ–Ω`

### –û—à–∏–±–∫–∞ 4: Next –≤–Ω–µ —Ü–∏–∫–ª–∞

```clc
next when true  # ‚ùå ERROR: next –≤–Ω–µ —Ü–∏–∫–ª–∞
```

**–°–æ–æ–±—â–µ–Ω–∏–µ –æ—à–∏–±–∫–∏:** `NextOutsideLoopError: "next" –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω–µ —Ü–∏–∫–ª–∞`

### –û—à–∏–±–∫–∞ 5: Next –∏–∑ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ü–∏–∫–ª–∞

```clc
for i in 1 .. 10 (
    next j  # ‚ùå ERROR: —Ü–∏–∫–ª –ø–æ j –Ω–µ –Ω–∞–π–¥–µ–Ω
)
```

**–°–æ–æ–±—â–µ–Ω–∏–µ –æ—à–∏–±–∫–∏:** `LoopNotFoundError: —Ü–∏–∫–ª –ø–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π 'j' –Ω–µ –Ω–∞–π–¥–µ–Ω`

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü–æ–∏—Å–∫ –≤ –º–∞—Å—Å–∏–≤–µ (break –¥–ª—è –≤—ã—Ö–æ–¥–∞)

```clc
# –ù–∞–π—Ç–∏ –ø–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ > 50 –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 1..100
result = 0
for i in 1 .. 100 (
    break when i > 50 with i
    result = i
)
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 51
```

### –ü—Ä–∏–º–µ—Ä 2: –°—É–º–º–∞ –Ω–µ—á–µ—Ç–Ω—ã—Ö —á–∏—Å–µ–ª (next –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞)

```clc
sum = 0
for i in 1 .. 10 (
    next when i mod 2 == 0
    sum += i
)
# sum = 1 + 3 + 5 + 7 + 9 = 25
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 25
```

### –ü—Ä–∏–º–µ—Ä 3: –ü–æ–∏—Å–∫ –≤ –º–∞—Ç—Ä–∏—Ü–µ (–≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã)

```clc
result = 0
for i in 1 .. 10 (
    for j in 1 .. 10 (
        break from i when i * j > 50 with i * j
        result = i * j
    )
)
# –ü—Ä–∏ i=6, j=9: 6*9=54 > 50 ‚Üí break from i with 54
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 54
```

### –ü—Ä–∏–º–µ—Ä 4: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–∞—Ç—Ä–∏—Ü—ã (next –≤–ª–æ–∂–µ–Ω–Ω—ã–π)

```clc
result = 0
for i in 1 .. 5 (
    for j in 1 .. 5 (
        next i when j == 3
        result += i + j
    )
)
# –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ i, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —Å—Ç–æ–ª–±–µ—Ü j=3, –ø–µ—Ä–µ—Ö–æ–¥—è –∫ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–µ
```

---

## üî® –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –∫–æ–¥–µ—Ä–∞)

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç—å grammar.lark

```lark
# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∫ statement'–∞–º
statement: expr
         | break_stmt
         | next_stmt

# Break –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
break_stmt: "break" from_clause? when_clause? "with" expr

# Next –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è  
next_stmt: "next" loop_var? when_clause?

# –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
from_clause: "from" NAME
when_clause: "when" expr
loop_var: NAME
```

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ interpreter.py

```python
class BreakException(Exception):
    """–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ü–∏–∫–ª–∞ —á–µ—Ä–µ–∑ break"""
    def __init__(self, loop_var: str, result: Any):
        self.loop_var = loop_var
        self.result = result
        super().__init__(f"break from {loop_var}")

class NextException(Exception):
    """–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é"""
    def __init__(self, loop_var: str):
        self.loop_var = loop_var
        super().__init__(f"next {loop_var}")

class BreakOutsideLoopError(DSLError):
    """Break –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω–µ —Ü–∏–∫–ª–∞"""
    pass

class NextOutsideLoopError(DSLError):
    """Next –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω–µ —Ü–∏–∫–ª–∞"""
    pass

class DuplicateLoopVariableError(DSLError):
    """–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Ü–∏–∫–ª–∞ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è"""
    pass

class LoopNotFoundError(DSLError):
    """–¶–∏–∫–ª –ø–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–µ –Ω–∞–π–¥–µ–Ω"""
    pass
```

### –®–∞–≥ 3: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤

```python
class Interpreter:
    def __init__(self, ...):
        # ...
        self._loop_stack: list[str] = []  # —Å—Ç–µ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤
    
    def _enter_loop(self, var: str):
        """–í—Ö–æ–¥ –≤ —Ü–∏–∫–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π var"""
        if var in self._loop_stack:
            raise DuplicateLoopVariableError(f"–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è '{var}' —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è")
        self._loop_stack.append(var)
    
    def _exit_loop(self, var: str):
        """–í—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞"""
        if self._loop_stack and self._loop_stack[-1] == var:
            self._loop_stack.pop()
```

### –®–∞–≥ 4: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è break

```python
def _eval_break_stmt(self, node: Tree) -> None:
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ break –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏"""
    if not self._loop_stack:
        raise BreakOutsideLoopError("break –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω–µ —Ü–∏–∫–ª–∞")
    
    # –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Ü–∏–∫–ª–∞ –¥–ª—è –≤—ã—Ö–æ–¥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - –±–ª–∏–∂–∞–π—à–∏–π)
    from_clause = node.find_data('from_clause')
    loop_var = None
    if from_clause:
        loop_var = from_clause.children[0].value
    else:
        loop_var = self._loop_stack[-1]  # –±–ª–∏–∂–∞–π—à–∏–π —Ü–∏–∫–ª
    
    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ü–∏–∫–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    if loop_var not in self._loop_stack:
        raise LoopNotFoundError(f"—Ü–∏–∫–ª –ø–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π '{loop_var}' –Ω–µ –Ω–∞–π–¥–µ–Ω")
    
    # –ü–æ–ª—É—á–∏—Ç—å —É—Å–ª–æ–≤–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    when_clause = node.find_data('when_clause')
    if when_clause:
        condition = self._eval(when_clause.children[0])
        if not condition:
            return  # —É—Å–ª–æ–≤–∏–µ –ª–æ–∂–Ω–æ, break –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
    
    # –í—ã—á–∏—Å–ª–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    expr_node = node.find_data('expr')[-1]  # –ø–æ—Å–ª–µ–¥–Ω–∏–π expr (–ø–æ—Å–ª–µ with)
    result = self._eval(expr_node)
    
    # –í—ã–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
    raise BreakException(loop_var, result)
```

### –®–∞–≥ 5: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è next

```python
def _eval_next_stmt(self, node: Tree) -> None:
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ next –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏"""
    if not self._loop_stack:
        raise NextOutsideLoopError("next –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω–µ —Ü–∏–∫–ª–∞")
    
    # –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Ü–∏–∫–ª–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - –±–ª–∏–∂–∞–π—à–∏–π)
    loop_var = None
    if node.children:  # –µ—Å–ª–∏ –µ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä
        loop_var = node.children[0].value
    else:
        loop_var = self._loop_stack[-1]  # –±–ª–∏–∂–∞–π—à–∏–π —Ü–∏–∫–ª
    
    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ü–∏–∫–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    if loop_var not in self._loop_stack:
        raise LoopNotFoundError(f"—Ü–∏–∫–ª –ø–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π '{loop_var}' –Ω–µ –Ω–∞–π–¥–µ–Ω")
    
    # –ü–æ–ª—É—á–∏—Ç—å —É—Å–ª–æ–≤–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    when_clause = node.find_data('when_clause')
    if when_clause:
        condition = self._eval(when_clause.children[0])
        if not condition:
            return  # —É—Å–ª–æ–≤–∏–µ –ª–æ–∂–Ω–æ, next –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
    
    # –í—ã–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
    raise NextException(loop_var)
```

### –®–∞–≥ 6: –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å _eval_for_expr

```python
def _eval_for_expr(self, node: Tree) -> Any:
    """–í—ã–ø–æ–ª–Ω—è–µ—Ç —Ü–∏–∫–ª —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π break/next"""
    
    # –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Ü–∏–∫–ª–∞
    var_name = node.children[0].value  # NAME
    
    # –í—Ö–æ–¥ –≤ —Ü–∏–∫–ª
    self._enter_loop(var_name)
    
    try:
        # ... (—Ç–µ–∫—É—â–∏–π –∫–æ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞)
        
        loop_result = None
        last_value = None
        iteration_count = 0
        
        for iteration_value in iteration_values:
            iteration_count += 1
            self._env[var_name] = iteration_value
            
            try:
                # –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–µ–ª–æ —Ü–∏–∫–ª–∞
                statements = node.find_data('statement_list')
                for stmt in statements:
                    # ...
                    last_value = self._eval(stmt)
                loop_result = last_value
                
            except NextException as ne:
                # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —ç—Ç–æ next –¥–ª—è –Ω–∞—à–µ–≥–æ —Ü–∏–∫–ª–∞
                if ne.loop_var == var_name:
                    continue  # –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
                else:
                    raise  # —ç—Ç–æ next –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ —Ü–∏–∫–ª–∞
            
            except BreakException as be:
                # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —ç—Ç–æ break –¥–ª—è –Ω–∞—à–µ–≥–æ —Ü–∏–∫–ª–∞
                if be.loop_var == var_name:
                    loop_result = be.result  # —Ä–µ–∑—É–ª—å—Ç–∞—Ç = –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ break
                    break  # –≤—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞
                else:
                    raise  # —ç—Ç–æ break –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ —Ü–∏–∫–ª–∞
        
        # –ï—Å–ª–∏ –±—ã–ª–æ next –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏, –≤–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        if iteration_count == 0:
            loop_result = None  # –ø—É—Å—Ç–æ–π —Ü–∏–∫–ª
        
        return loop_result
    
    finally:
        # –í—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞
        self._exit_loop(var_name)
```

### –®–∞–≥ 7: –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ _eval

```python
def _eval(self, node) -> Any:
    """–ì–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä"""
    # ...
    if isinstance(node, Tree):
        if node.data == "break_stmt":
            self._eval_break_stmt(node)
        elif node.data == "next_stmt":
            self._eval_next_stmt(node)
        # ...
```

---

## ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –û–±–Ω–æ–≤–∏—Ç—å grammar.lark (–¥–æ–±–∞–≤–∏—Ç—å break_stmt, next_stmt)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ interpreter.py
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤ (_loop_stack)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å _eval_break_stmt
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å _eval_next_stmt
- [ ] –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å _eval_for_expr –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ BreakException –∏ NextException
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É break_stmt –∏ next_stmt –≤ _eval
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å unit —Ç–µ—Å—Ç—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (–≤—Å–µ 66 —Ç–µ—Å—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å README.md —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

---

**–ì–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏!**
