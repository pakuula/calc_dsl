# Задание на проектирование и реализацию интерпретатора для математического DSL

В этом проекте мы создаем простой доменно-специфический язык (DSL) для математических выражений. Процесс разработки будет разделен на несколько этапов, каждый из которых будет выполняться разными агентами:

1. **@expert**: Определяет высокоуровневую спецификацию языка, включая синтаксис, математическую модель и обработку ошибок.
2. **@designer**: На основе спецификации от @expert разрабатывает формальную грамматику языка в формате EBNF, а также определяет приоритеты операторов и структуру абстрактного синтаксического дерева (AST).
3. **@coder**: Реализует интерпретатор на Python, используя библиотеку `Lark` для парсинга грамматики, и создает класс `Interpreter`, который выполняет код на DSL.
4. **@tester**: Разрабатывает набор тестов для проверки корректности интерпретатора, с особым вниманием к крайним случаям и property-based testing.

## Идея языка

1. **Арифметика**: `+`, `-`, `*`, `/`, `**` (возведение в степень).
2. **Модульная арифметика**:
   - Оператор `mod` (например, `5 + 2 mod 3`).
   - Приоритет `mod` должен быть ниже, чем у `**`, но выше или равен `*` (уточни это в спецификации).
   - Поддержка `a ** b mod p` через эффективный `pow(a, b, p)`.
3. **Присваивания**:
   - Обычное: `x = 10`.
   - Сокращенное: `+=`, `-=`, `/=`, `mod=`.
4. **Внешние функции и константы**:
   - Математика: `ln`, `log2`, `log10`, `sin`, `cos`, `tg`, `ctg`, `sqrt`, `nrt`.
   - Константы: `pi`, `e`.
5. **Вывод**: Должна быть функция `print(x, y, z, ...)`, которая выводит значения в консоль, разделяя их пробелами.
   Среди аргументов могут быть строчные литералы, и только в этой функции.

6. **Синтаксис**:
    - строки могут заканчиваться точкой с запятой `;`, но это не обязательно.
    - присваивания в переменные - это statement. В одном statement может быть только одно присваивание. Statement один на строку или до `;`.
    - поддержка комментариев: всё что после `#` до конца строки игнорируется.
    - многострочный блок начинается с '(' и заканчивается ')'. Внутри блока могут быть несколько statement, разделенных `;` или новой строкой. результат блока - результат последнего statement внутри него. Блок может быть вложенным.
    - `for var in start..end [by step] (statements)` - цикл от start до end включительно, с шагом step (по умолчанию 1). Внутри цикла может быть блок statement. Результат цикла - результат последнего statement в последней итерации.
